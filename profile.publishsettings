2025-01-22T06:15:07  Welcome, you are now connected to log-streaming service.Starting Log Tail -n 10 of existing logs ----/home/LogFiles/__lastCheckTime.txt  (https://living-app-doc-aqg6acgjeggqbjbh.scm.westus-01.azurewebsites.net/api/vfs/LogFiles/__lastCheckTime.txt)01/22/2025 06:14:56/home/LogFiles/kudu/trace/329ed19ad8ad-12945d13-3eff-4794-a0d0-8d47db769718.txt  (https://living-app-doc-aqg6acgjeggqbjbh.scm.westus-01.azurewebsites.net/api/vfs/LogFiles/kudu/trace/329ed19ad8ad-12945d13-3eff-4794-a0d0-8d47db769718.txt)
2025-01-22T05:31:55  Startup Request, url: /api/deployments/?$orderby=ReceivedTime%20desc&$top=20&api-version=2022-03-01, method: GET, type: request, pid: 87,1,14, ScmType: GitHubAction/home/LogFiles/kudu/trace/a7100f907fe9-6f06a0ad-f12e-46bd-894c-5bcac497fb82.txt  (https://living-app-doc-aqg6acgjeggqbjbh.scm.westus-01.azurewebsites.net/api/vfs/LogFiles/kudu/trace/a7100f907fe9-6f06a0ad-f12e-46bd-894c-5bcac497fb82.txt)
2025-01-22T03:11:16  Startup Request, url: /api/deployments/?api-version=2022-03-01, method: GET, type: request, pid: 87,1,5, ScmType: GitHubAction/home/LogFiles/kudu/trace/dfeb1692539f-6ab1d96a-9afd-4812-b7cc-d7f6eb5c2b4d.txt  (https://living-app-doc-aqg6acgjeggqbjbh.scm.westus-01.azurewebsites.net/api/vfs/LogFiles/kudu/trace/dfeb1692539f-6ab1d96a-9afd-4812-b7cc-d7f6eb5c2b4d.txt)
2025-01-22T03:06:41  Startup Request, url: /api/deployments/?api-version=2022-03-01, method: GET, type: request, pid: 86,1,7, ScmType: GitHubAction/home/LogFiles/2025_01_22_ln0xsdlwk00003W_default_docker.log  (https://living-app-doc-aqg6acgjeggqbjbh.scm.westus-01.azurewebsites.net/api/vfs/LogFiles/2025_01_22_ln0xsdlwk00003W_default_docker.log)
2025-01-22T06:15:01.839544173Z     at node:internal/main/run_main_module:28:49
2025-01-22T06:15:01.844046612Z Server running on port 8080
2025-01-22T06:15:01.844792735Z === Testing Azure Search Connection ===
2025-01-22T06:15:01.844816936Z Error initializing Azure OpenAI Client: Error: key must be a non-empty string
2025-01-22T06:15:01.844824236Z     at new AzureKeyCredential (/home/site/wwwroot/node_modules/@azure/core-auth/dist/commonjs/azureKeyCredential.js:25:19)
2025-01-22T06:15:01.844829836Z     at initializeOpenAIClient (/home/site/wwwroot/server.js:84:7)
2025-01-22T06:15:01.844835036Z     at initializeAndTest (/home/site/wwwroot/server.js:94:9)
2025-01-22T06:15:01.844840236Z     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-01-22T06:15:01.844845237Z Error querying index: Cannot read properties of undefined (reading 'search')/home/LogFiles/2025_01_22_ln0xsdlwk00003W_docker.log  (https://living-app-doc-aqg6acgjeggqbjbh.scm.westus-01.azurewebsites.net/api/vfs/LogFiles/2025_01_22_ln0xsdlwk00003W_docker.log)
2025-01-22T06:04:11.519Z INFO  - Starting container for site
2025-01-22T06:04:11.520Z INFO  - docker run -d --expose=8080 --name living-app-doc_0_c273c1e1 -e WEBSITE_USE_DIAGNOSTIC_SERVER=true -e WEBSITE_SITE_NAME=living-app-doc -e WEBSITE_AUTH_ENABLED=False -e WEBSITE_ROLE_INSTANCE_ID=0 -e WEBSITE_HOSTNAME=living-app-doc-aqg6acgjeggqbjbh.westus-01.azurewebsites.net -e WEBSITE_INSTANCE_ID=3396058b5103fcf7923f809b525b08e9b3f89446d18e38987cb444ccbf79db00 -e HTTP_LOGGING_ENABLED=1 appsvc/node:20-lts_20240819.2.tuxprod
2025-01-22T06:04:11.986Z INFO  - Initiating warmup request to container living-app-doc_0_c273c1e1 for site living-app-doc
2025-01-22T06:04:15.052Z ERROR - Container living-app-doc_0_c273c1e1 for site living-app-doc has exited, failing site start
2025-01-22T06:04:15.059Z ERROR - Container living-app-doc_0_c273c1e1 didn't respond to HTTP pings on port: 8080, failing site start. See container logs for debugging.
2025-01-22T06:04:15.062Z INFO  - Stopping site living-app-doc because it failed during startup.
2025-01-22T06:14:57.012Z INFO  - Starting container for site
2025-01-22T06:14:57.013Z INFO  - docker run -d --expose=8080 --name living-app-doc_0_29914017 -e WEBSITE_USE_DIAGNOSTIC_SERVER=true -e WEBSITE_SITE_NAME=living-app-doc -e WEBSITE_AUTH_ENABLED=False -e WEBSITE_ROLE_INSTANCE_ID=0 -e WEBSITE_HOSTNAME=living-app-doc-aqg6acgjeggqbjbh.westus-01.azurewebsites.net -e WEBSITE_INSTANCE_ID=3396058b5103fcf7923f809b525b08e9b3f89446d18e38987cb444ccbf79db00 -e HTTP_LOGGING_ENABLED=1 appsvc/node:20-lts_20240819.2.tuxprod
2025-01-22T06:14:57.555Z INFO  - Initiating warmup request to container living-app-doc_0_29914017 for site living-app-doc
2025-01-22T06:15:02.627Z INFO  - Container living-app-doc_0_29914017 for site living-app-doc initialized successfully and is ready to serve requests.Ending Log Tail of existing logs ---Starting Live Log Stream ---
2025-01-22T06:14:57.314963359Z    _____
2025-01-22T06:14:57.315038361Z   /  _  \ __________ _________   ____
2025-01-22T06:14:57.315049661Z  /  /_\  \\___   /  |  \_  __ \_/ __ \
2025-01-22T06:14:57.315055361Z /    |    \/    /|  |  /|  | \/\  ___/
2025-01-22T06:14:57.315060362Z \____|__  /_____ \____/ |__|    \___  >
2025-01-22T06:14:57.315065162Z         \/      \/                  \/
2025-01-22T06:14:57.315070062Z A P P   S E R V I C E   O N   L I N U X
2025-01-22T06:14:57.315074762Z
2025-01-22T06:14:57.315079562Z Documentation: http://aka.ms/webapp-linux
2025-01-22T06:14:57.315084362Z NodeJS quickstart: https://aka.ms/node-qs
2025-01-22T06:14:57.315089162Z NodeJS Version : v20.15.1
2025-01-22T06:14:57.315093763Z Note: Any data outside '/home' is not persisted
2025-01-22T06:14:57.315098463Z
2025-01-22T06:14:58.688217545Z Starting OpenBSD Secure Shell server: sshd.
2025-01-22T06:14:58.691857057Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-01-22T06:14:58.754823596Z Starting periodic command scheduler: cron.
2025-01-22T06:14:58.772088727Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-01-22T06:14:58.772116428Z Could not find operation ID in manifest. Generating an operation id...
2025-01-22T06:14:58.772123128Z Build Operation ID: f04ceb95-0462-4020-a0a4-984d75a85c5b
2025-01-22T06:14:58.943521306Z Environment Variables for Application Insight's IPA Codeless Configuration exists..
2025-01-22T06:14:58.967152834Z Writing output script to '/opt/startup/startup.sh'
2025-01-22T06:14:58.997380464Z Running #!/bin/sh
2025-01-22T06:14:58.997411565Z
2025-01-22T06:14:58.997419066Z # Enter the source directory to make sure the script runs where the user expects
2025-01-22T06:14:58.997426366Z cd "/home/site/wwwroot"
2025-01-22T06:14:58.997432366Z
2025-01-22T06:14:58.997438766Z export NODE_PATH=/usr/local/lib/node_modules:$NODE_PATH
2025-01-22T06:14:58.997445866Z if [ -z "$PORT" ]; then
2025-01-22T06:14:58.997451667Z 		export PORT=8080
2025-01-22T06:14:58.997457667Z fi
2025-01-22T06:14:58.997463067Z
2025-01-22T06:14:58.997468467Z npm start
2025-01-22T06:14:59.204286835Z npm info using npm@10.7.0
2025-01-22T06:14:59.205479872Z npm info using node@v20.15.1
2025-01-22T06:14:59.714984260Z
2025-01-22T06:14:59.715108464Z > app@0.1.0 start
2025-01-22T06:14:59.715116064Z > node server.js
2025-01-22T06:14:59.715121764Z
2025-01-22T06:15:01.839433970Z Search client initialization error: Error: key must be a non-empty string
2025-01-22T06:15:01.839474871Z     at new AzureKeyCredential (/home/site/wwwroot/node_modules/@azure/core-auth/dist/commonjs/azureKeyCredential.js:25:19)
2025-01-22T06:15:01.839496972Z     at initializeSearchClient (/home/site/wwwroot/server.js:36:7)
2025-01-22T06:15:01.839503672Z     at initializeAndTest (/home/site/wwwroot/server.js:93:9)
2025-01-22T06:15:01.839509472Z     at Object.<anonymous> (/home/site/wwwroot/server.js:99:1)
2025-01-22T06:15:01.839515673Z     at Module._compile (node:internal/modules/cjs/loader:1358:14)
2025-01-22T06:15:01.839521373Z     at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
2025-01-22T06:15:01.839527073Z     at Module.load (node:internal/modules/cjs/loader:1208:32)
2025-01-22T06:15:01.839532773Z     at Module._load (node:internal/modules/cjs/loader:1024:12)
2025-01-22T06:15:01.839538373Z     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)
2025-01-22T06:15:01.839544173Z     at node:internal/main/run_main_module:28:49
2025-01-22T06:15:01.844046612Z Server running on port 8080
2025-01-22T06:15:01.844792735Z === Testing Azure Search Connection ===
2025-01-22T06:15:01.844816936Z Error initializing Azure OpenAI Client: Error: key must be a non-empty string
2025-01-22T06:15:01.844824236Z     at new AzureKeyCredential (/home/site/wwwroot/node_modules/@azure/core-auth/dist/commonjs/azureKeyCredential.js:25:19)
2025-01-22T06:15:01.844829836Z     at initializeOpenAIClient (/home/site/wwwroot/server.js:84:7)
2025-01-22T06:15:01.844835036Z     at initializeAndTest (/home/site/wwwroot/server.js:94:9)
2025-01-22T06:15:01.844840236Z     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-01-22T06:15:01.844845237Z Error querying index: Cannot read properties of undefined (reading 'search')
2025-01-22T06:15:17.544549472Z Attempting search with query: What is Jira
2025-01-22T06:15:17.545123589Z Error processing request: Cannot read properties of undefined (reading 'search')
2025-01-22T06:14:57.012Z INFO  - Starting container for site
2025-01-22T06:14:57.013Z INFO  - docker run -d --expose=8080 --name living-app-doc_0_29914017 -e WEBSITE_USE_DIAGNOSTIC_SERVER=true -e WEBSITE_SITE_NAME=living-app-doc -e WEBSITE_AUTH_ENABLED=False -e WEBSITE_ROLE_INSTANCE_ID=0 -e WEBSITE_HOSTNAME=living-app-doc-aqg6acgjeggqbjbh.westus-01.azurewebsites.net -e WEBSITE_INSTANCE_ID=3396058b5103fcf7923f809b525b08e9b3f89446d18e38987cb444ccbf79db00 -e HTTP_LOGGING_ENABLED=1 appsvc/node:20-lts_20240819.2.tuxprod
2025-01-22T06:14:57.555Z INFO  - Initiating warmup request to container living-app-doc_0_29914017 for site living-app-doc
2025-01-22T06:15:02.627Z INFO  - Container living-app-doc_0_29914017 for site living-app-doc initialized successfully and is ready to serve requests.
2025-01-22T06:16:25.123898073Z Attempting search with query: Heyty
2025-01-22T06:16:25.124655795Z Error processing request: Cannot read properties of undefined (reading 'search')
